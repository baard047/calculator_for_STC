Калькулятор на Qt.



Аналог калькулятора Windows (вид простой, не научный)

Операции калькулятора: сложение, вычитание, деление, умножение.



Прототип функции, непосредственно выполняющей вычисление:

double compute( int Type, double OperandA, double OperandB, int& ErrorCode )

Type - Тип операции (+,-,/,*)



Операция вычисления выполняется в ОТДЕЛЬНОМ ПОТОКЕ.

Каждое вычисление длится определенное время, которое можно задать в секундах с интерфейса.

Это нужно для симуляции длительных вычислений и накопления очереди запросов( Requests ).

Реализация доступа к Requests должна быть ПОТОКОБЕЗОПАСНОЙ



Принцип работы следующий:



Поток 1
1. Формирует запрос на вычисление, и добавляет его в очередь Потока 2( Requests )
 
2. Отображение результатов вычислений, полученных из Потока 2 



Поток 2

1. По прошествии времени предыдущего вычисления из Requests берется следующий элемент (если он там есть). 

2. Извлеченный элемент отправляется на обработку. 

3. Ожидание окончания.

4. Передача результата в основной поток.



Для вывода запросов на вычисление, результатов вычислений, ошибок

использовать некую консоль, желательно с цветным текстом

Запросы - зеленые, результаты - синие, ошибки - красные



Каждое нажатие "=" приводит к складыванию в очередь запросов текущего введенного запроса на вычисление, если оно существует конечно :)

иначе ошибку в консоль.



Важно:

Обработка всех ошибок:
 
   Ошибки ввода.
    
   Многократное нажатие кнопок (типа тупое тыркание).

   Ошибки вычисления (их не так уж и много, например деление на 0).
